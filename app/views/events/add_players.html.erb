<% if Player.where.not(id: @event.player_ids ).count > 0 then %>
  <%= simple_form_for @event, url: add_player_path, method: "post" do |f| %>
    <%= f.input :new_player, collection: Player.where.not(id: @event.player_ids ), label: false, label_method: :display_name, value_method: :id, include_blank: false, :wrapper_html => { :class => 'col-lg-2' }  %>
    <%= f.button :submit, "Agregar jugador", class: "col-lg-3" %>
  <% end %>
<% end %>
<h5>
    Jugadores de evento <%= @event.name %>
</h5>
<div class="table-container col-lg-6">
  <table id="event_players" class="table table-bordered table-striped">
    <tbody>
      <% @event.player_events.each do |player_event| %>
        <tr>
          <td><%= player_event.player_name.html_safe %></td>
          <td><%= link_to 'Ganador', set_winner_path(@event.id,player_event.player_id), method:"post"%></td>
          <td><%= link_to 'Eliminar', remove_player_path(@event.id,player_event.player_id), method:"delete"%></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<%= link_to 'Remover Ganador', set_winner_path(@event.id,0), method:"post"%>
<%= link_to 'Volver', events_path %>
